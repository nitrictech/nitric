# Code generated by Nitric SDK generator. DO NOT EDIT.

import grpc
from sdk.gen.storage.v2 import storage_pb2_grpc
{{if .Buckets}}
from sdk.buckets import Bucket
{{end}}

class NitricClient:
    def __init__(self, address: str = "localhost:50051"):
        self._channel = grpc.aio.insecure_channel(address)
        {{if .Buckets}}
        self._storage_client = storage_pb2_grpc.StorageStub(self._channel)
        {{end}}
        
        {{range .Buckets}}
        self.{{.CamelCase}} = Bucket(self._storage_client, "{{.Unmodified}}")
        {{end}}

    async def close(self):
        await self._channel.close()

